# 🌐 Диаграмма развертывания

## Продакшен среда

### Kubernetes Cluster (Yandex Cloud)
┌───────────────── Kubernetes Cluster ─────────────────┐
│ │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ │
│ │ Frontend │ │ API Gateway │ │ Ingress │ │
│ │ Pods │ │ Nginx │ │ Controller │ │
│ └─────────────┘ └─────────────┘ └─────────────┘ │
│ │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ │
│ │ AI Service │ │ Logistics │ │ Users │ │
│ │ Pods │ │ Service │ │ Service │ │
│ └─────────────┘ └─────────────┘ └─────────────┘ │
│ │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ │
│ │ Redis │ │ RabbitMQ │ │ PostgreSQL │ │
│ │ Cluster │ │ Cluster │ │ Cluster │ │
│ └─────────────┘ └─────────────┘ └─────────────┘ │
└────────────────────────────────────────────────────┘

text

### Блокчейн среда (отдельный кластер)
┌───────────── Hyperledger Fabric Network ────────────┐
│ │
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ │
│ │ Orderer │ │ Peer │ │ Peer │ │
│ │ Nodes │ │ (Org1) │ │ (Org2) │ │
│ └─────────────┘ └─────────────┘ └─────────────┘ │
│ │
│ ┌─────────────┐ ┌─────────────┐ │
│ │ CouchDB │ │ Chaincode │ │
│ │ Database │ │ Containers │ │
│ └─────────────┘ └─────────────┘ │
└────────────────────────────────────────────────────┘

text

## Ресурсы и масштабирование

### Репликация:
- **Frontend:** 3+ реплики
- **Микросервисы:** 2+ реплики каждый
- **Базы данных:** Master-Slave репликация
- **Кэш:** Redis Cluster с 6 нодами

### Мониторинг:
- **Prometheus** + **Grafana** для метрик
- **ELK Stack** для логов
- **Jaeger** для трассировки
